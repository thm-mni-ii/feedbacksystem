<mat-tab-group (selectedTabChange)="tabChanged($event)">
  <mat-tab *ngFor="let course of courses" label="{{course.course_name}}" class="tab">


    <div class="container">

      <mat-card class="card">
        <button (click)="exportCourse(course.course_id)" mat-flat-button color="primary" matTooltip="Feedback exportieren"><mat-icon>table_chart</mat-icon></button>
        <mat-form-field appearance="fill"  class="filter-input">
          <mat-label>Filter</mat-label>
          <input matInput [formControl]="filter">
        </mat-form-field>


        <div *ngFor="let student of filteredMatrix$ | async" class="student-row">

          <!-- Name -->
          <div class="name-container">
            <mat-icon *ngIf="student.passed === 1" class="student-passed" color="#00ffff">done</mat-icon>
            <mat-icon *ngIf="student.passed === 0" class="student-failed" color="#ff0000">clear</mat-icon>
            <h3 class="name">{{student.surname}} {{student.prename}}</h3>
          </div>

          <!-- Tasks-->
          <div class="task-container">
            <div *ngFor="let task of student.tasks" class="task-row">

              <span>
                <span class="cloumn_header_task" matTooltip="{{ task[keys(task)[0]].task_name }}">{{ task[keys(task)[0]].task_name }}</span>
                <div *ngFor="let key of keys(task)" class="task "
                     matTooltipPosition="above" matTooltip="{{task[key].task_name}}">
                  <span class="sub_feedback {{task[key].passed}}">
                    {{task[key].trials}}
                  </span>
                  <span class="sub_feedback {{plagiatColor(task[key])}}" >
                    P
                  </span>

                </div>

              </span>

            </div>
          </div>

        </div>

        <!--<mat-grid-list cols="20">

          <mat-grid-tile colspan="5">
            <div class="name-container" *ngFor="let student of filteredMatrix$ | async">
              <mat-icon *ngIf="student.passed === 1" class="student-passed" color="#00ffff">done</mat-icon>
              <mat-icon *ngIf="student.passed === 0" class="student-failed" color="#ff0000">clear</mat-icon>
              <h3 class="name">{{student.surname}} {{student.prename}}</h3>
            </div>
          </mat-grid-tile>


          <mat-grid-tile colspan="15">
            <div class="task-container" *ngFor="let student of filteredMatrix$ | async">
              <div *ngFor="let task of student.tasks" class="task-row">
                <div *ngFor="let key of keys(task)" class="task {{task[key].passed}}"
                     matTooltipPosition="above" matTooltip="{{task[key].task_name}}">
                  {{task[key].trials}}
                </div>
              </div>
            </div>


          </mat-grid-tile>
        </mat-grid-list>-->

        <button mat-flat-button color="accent" *ngIf="offset > 0" (click)="reloadSubmission(-1)" matTooltip="Previous"><mat-icon>skip_previous</mat-icon></button>
        <button mat-flat-button color="accent" *ngIf="(offset + limit) < userlength" (click)="reloadSubmission(1)" matTooltip="Next"><mat-icon>skip_next</mat-icon></button>

      </mat-card>
    </div>

  </mat-tab>
</mat-tab-group>
