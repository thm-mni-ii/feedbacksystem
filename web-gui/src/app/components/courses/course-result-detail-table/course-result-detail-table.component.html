<mat-expansion-panel class="e-panel alignpanel">
  <mat-expansion-panel-header>
    <mat-panel-title>
      Submission {{taskSubmission.submission_id}}
    </mat-panel-title>
    <mat-panel-description>
      {{taskSubmission.filename || taskSubmission.submission_data}}
    </mat-panel-description>
  </mat-expansion-panel-header>

  <div>

    <table mat-table matSort [dataSource]="dataSource" class="mat-elevation-z8" style="width: 100%;">

      <!--- Note that these columns can be defined in any order.
            The actual rendered columns are set as a property on the row definition" -->

      <!-- Name Column -->
      <ng-container matColumnDef="result">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Result</th>
        <td style="max-width: 260px;" mat-cell *matCellDef="let eval">
          <span *ngIf="!isJSON(eval.calculate_pre_result)" >{{eval.calculate_pre_result}}</span>
          <app-course-result-as-table *ngIf="isJSON(eval.calculate_pre_result)" [data]="eval.calculate_pre_result"></app-course-result-as-table>
        </td>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="choice_best_result_fit">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Choosen Result</th>
        <td style="max-width: 260px;" mat-cell *matCellDef="let eval">
          <span *ngIf="!isJSON(eval.choice_best_result_fit)" >{{eval.choice_best_result_fit}}</span>
          <app-course-result-as-table *ngIf="isJSON(eval.choice_best_result_fit)" [data]="eval.choice_best_result_fit"></app-course-result-as-table>
        </td>
      </ng-container>

      <!-- Symbol Column -->
      <!--<ng-container matColumnDef="result_date">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Result Date</th>
        <td mat-cell *matCellDef="let eval"> {{ parseDate(eval.result_date) | date: "yyyy-MM-dd" }} </td>
      </ng-container>

      <ng-container matColumnDef="testsystem_id">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Testsystem</th>
      <td mat-cell *matCellDef="let eval"> {{eval.testsystem_id}} </td>
    </ng-container>-->

      <ng-container matColumnDef="passed">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Passed</th>
        <td mat-cell *matCellDef="let eval"> {{eval.passed}} </td>
      </ng-container>



      <tr mat-header-row *matHeaderRowDef="columns"></tr>
      <tr mat-row *matRowDef="let row; columns: columns;"></tr>
    </table>



  </div>

</mat-expansion-panel>
