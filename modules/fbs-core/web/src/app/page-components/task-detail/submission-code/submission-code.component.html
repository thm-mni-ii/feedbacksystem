<div style="display: flex; justify-content: space-between; align-items: center">
  <h3>{{ titleText }}</h3>
  <button mat-button color="primary" (click)="uploadFile()">
    Code aus Datei lesen
  </button>
  <button mat-button color="warn" (click)="downloadSubmission()">
    Abgabe herunterladen
  </button>
</div>

<input
  type="file"
  #fileInput
  style="display: none"
  (change)="handleFileInput($event)"
  accept=".pdf,.docx,.txt,.java,.ts,.js,.py,.cpp,.c,.go,.rb,.php,.html,.css"
/>

<!-- Ladeanzeige -->
<div *ngIf="processing" class="loading-overlay">
  <div class="loading-popup">
    <mat-spinner></mat-spinner>
    <p>Die Datei wird verarbeitet, bitte warten...</p>
  </div>
</div>

<!-- Code-Editor mit Syntax-Highlighting -->
<app-code-editor
  [codeType]="getLanguageByFileType(fileType)"
  [(content)]="toSubmit"
  (update)="onCodeChange($event)"
></app-code-editor>

<ng-template #errorDialog let-data>
  <h2 mat-dialog-title>Fehler</h2>
  <mat-dialog-content>
    <p>{{ data.message }}</p>
  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close color="primary">OK</button>
  </mat-dialog-actions>
</ng-template>
