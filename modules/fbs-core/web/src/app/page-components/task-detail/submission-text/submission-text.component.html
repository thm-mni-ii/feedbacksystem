<div style="display: flex; justify-content: space-between; align-items: center">
  <h3>{{ titleText }}</h3>
  <button mat-button color="primary" (click)="uploadFile()">
    Text aus Datei lesen
  </button>
  <button mat-button color="accent" (click)="toggleEditor()">
    {{ isCodeFile ? "Wechsel zu Text-Editor" : "Wechsel zu Code-Editor" }}
  </button>
</div>

<input
  type="file"
  #fileInput
  style="display: none"
  (change)="handleFileInput($event)"
  accept=".pdf,.docx,.txt,.java,.ts,.js,.py"
/>

<!-- Ladeanzeige -->
<div *ngIf="processing" class="loading-overlay">
  <div class="loading-popup">
    <mat-spinner></mat-spinner>
    <p>Die Datei wird verarbeitet, bitte warten...</p>
  </div>
</div>

<!-- Normaler Texteditor -->
<div *ngIf="!isCodeFile" class="editor-container">
  <angular-editor
    [config]="editorConfig"
    [(ngModel)]="toSubmit"
    (ngModelChange)="onTextChange($event)"
  ></angular-editor>
</div>

<!-- Code-Editor mit Highlighting -->
<app-code-editor
  *ngIf="isCodeFile"
  [codeType]="getLanguageByFileType(fileType)"
  [(content)]="toSubmit"
  (ngModelChange)="onTextChange($event)"
></app-code-editor>
