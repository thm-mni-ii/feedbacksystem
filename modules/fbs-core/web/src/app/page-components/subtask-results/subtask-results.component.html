<div *ngIf="display">
  <h4>Ergebnisse per Unteraufgabe</h4>

  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let result">{{ result.name }}</td>
    </ng-container>

    <ng-container matColumnDef="maxPoints">
      <th mat-header-cell *matHeaderCellDef>Fortschritt</th>
      <td mat-cell *matCellDef="let result" class="data-cell">
        <span
          [class.red-text]="result.points === 0"
          class="points"
          [matTooltip]="getTooltipText(result)"
          matTooltipPosition="above"
          style="margin-left: 0.4cm"
        >
          {{ result.points }}
        </span>
        /
        <span class="max-points darker-text">{{ result.maxPoints }}</span>
      </td>
    </ng-container>

    <ng-container matColumnDef="points">
      <th mat-header-cell *matHeaderCellDef class="khaled">
        Unteraufgabe Status
      </th>
      <td
        mat-cell
        *matCellDef="let result"
        class="data-cell"
        [style.flex]="'1 0 auto'"
        style="padding-right: 50px"
      >
        <mat-icon
          *ngIf="result.maxPoints === result.points; else elseblock"
          class="icone success"
        >
          check_circle_outline
        </mat-icon>
        <ng-template #elseblock>
          <mat-icon class="icone failure">block</mat-icon>
        </ng-template>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columns"></tr>
    <tr mat-row *matRowDef="let row; columns: columns"></tr>
  </table>
</div>
