<mat-card-actions>
  <mat-tab-group
    [selectedIndex]="activeTabId.value"
    (selectedIndexChange)="activeTabId.setValue($event)"
    [backgroundColor]=""
  >
    <ng-container>
      <mat-tab *ngFor="let tab of tabs; let index = index">
        <ng-template [mat-tab-label]>
          <div class="col" style="margin-left: 20px">
            <input
              matInput
              type="text"
              placeholder="New_Query"
              [(ngModel)]="tabs[index].name"
            />
          </div>
          <button *ngIf="index !== 0" mat-icon-button (click)="closeTab(index)">
            <mat-icon>remove_circle_outline</mat-icon>
          </button>
          <button mat-icon-button (click)="addTab()">
            <mat-icon>add_circle_outline</mat-icon>
          </button>
        </ng-template>
        <div class="inputField">
          <app-submission-text
            (update)="updateSubmissionContent($event)"
          ></app-submission-text>
        </div>
      </mat-tab>
    </ng-container>
  </mat-tab-group>
  <div class="bottom-container">
    <button mat-button class="downloadBtn" (click)="downloadFile()">
      <mat-icon>download</mat-icon> Download
    </button>

    <button
      [disabled]="isSubmissionEmpty()"
      mat-flat-button
      color="accent"
      class="excuteBtn"
      (click)="submission()"
    >
      <span class="spinner" *ngIf="pending">
        <mat-spinner [diameter]="24"></mat-spinner>&nbsp;
      </span>
      <span *ngIf="!pending">Ausführen</span>
    </button>
    <div class="submission-inactive-container">
      <button
        mat-flat-button
        *ngIf="!submitModeActive"
        matTooltip="Wähle eine Aufgabe aus deinem Kurs und gebe das Statement direkt ab."
        [matTooltipPosition]="'above'"
        (click)="updateMode(true)"
      >
        Abgeben<mat-icon>insert_drive_file</mat-icon>
      </button>
    </div>
    <div class="submission-active-container" *ngIf="submitModeActive">
      <mat-icon>remove_red_eye</mat-icon>
      <mat-icon>cancel</mat-icon>
      <button mat-button [matMenuTriggerFor]="menu">Aufgabe</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item>Item 1</button>
        <button mat-menu-item>Item 2</button>
      </mat-menu>
      <button mat-button [matMenuTriggerFor]="menu">Kurs</button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item>Item 1</button>
        <button mat-menu-item>Item 2</button>
      </mat-menu>
      <button class="closeBtn" mat-flat-button (click)="updateMode(false)">
        <mat-icon>closeTab</mat-icon>
      </button>
    </div>
  </div>
</mat-card-actions>
